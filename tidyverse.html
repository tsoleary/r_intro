<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Tidyverse | UVM ThermoFly REU Crew</title>
  <meta name="description" content="An incomplete introductory workshop to data science and R." />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Tidyverse | UVM ThermoFly REU Crew" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="An incomplete introductory workshop to data science and R." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Tidyverse | UVM ThermoFly REU Crew" />
  
  <meta name="twitter:description" content="An incomplete introductory workshop to data science and R." />
  

<meta name="author" content="TS O’Leary" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="more-base-ics-in-r.html"/>
<link rel="next" href="data-visualization.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="data-science-workshop.html"><a href="data-science-workshop.html"><i class="fa fa-check"></i><strong>Data Science Workshop</strong></a></li>
<li class="part"><span><b><strong>Part I – June</strong></b></span></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> <strong>Introduction</strong></a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#goals"><i class="fa fa-check"></i><b>1.1</b> Goals</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#agenda"><i class="fa fa-check"></i><b>1.2</b> Agenda</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="introduction.html"><a href="introduction.html#notes"><i class="fa fa-check"></i><b>1.2.1</b> Notes</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#disclaimer"><i class="fa fa-check"></i><b>1.3</b> Disclaimer</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#alternative-resources"><i class="fa fa-check"></i><b>1.4</b> Alternative resources</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#stolen-advice"><i class="fa fa-check"></i><b>1.5</b> Stolen advice</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#r-script-download"><i class="fa fa-check"></i><b>1.6</b> R Script download</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="first-principles.html"><a href="first-principles.html"><i class="fa fa-check"></i><b>2</b> <strong>First principles</strong></a>
<ul>
<li class="chapter" data-level="2.1" data-path="first-principles.html"><a href="first-principles.html#r-rstudio"><i class="fa fa-check"></i><b>2.1</b> R &amp; RStudio</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="first-principles.html"><a href="first-principles.html#download-links"><i class="fa fa-check"></i><b>2.1.1</b> Download links</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="first-principles.html"><a href="first-principles.html#lets-start-coding"><i class="fa fa-check"></i><b>2.2</b> Let’s start coding</a></li>
<li class="chapter" data-level="2.3" data-path="first-principles.html"><a href="first-principles.html#basic-math"><i class="fa fa-check"></i><b>2.3</b> Basic math</a></li>
<li class="chapter" data-level="2.4" data-path="first-principles.html"><a href="first-principles.html#creating-objects"><i class="fa fa-check"></i><b>2.4</b> Creating objects</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="first-principles.html"><a href="first-principles.html#naming-objects"><i class="fa fa-check"></i><b>2.4.1</b> Naming objects</a>
<ul>
<li class="chapter" data-level="2.4.1.1" data-path="first-principles.html"><a href="first-principles.html#the-snake-camel"><i class="fa fa-check"></i><b>2.4.1.1</b> The snake &amp; camel</a></li>
<li class="chapter" data-level="2.4.1.2" data-path="first-principles.html"><a href="first-principles.html#forbidden-characters"><i class="fa fa-check"></i><b>2.4.1.2</b> Forbidden characters</a></li>
<li class="chapter" data-level="2.4.1.3" data-path="first-principles.html"><a href="first-principles.html#characters-to-avoid"><i class="fa fa-check"></i><b>2.4.1.3</b> Characters to avoid</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="first-principles.html"><a href="first-principles.html#data-types"><i class="fa fa-check"></i><b>2.5</b> Data types</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="first-principles.html"><a href="first-principles.html#object-class"><i class="fa fa-check"></i><b>2.5.1</b> Object class</a></li>
<li class="chapter" data-level="2.5.2" data-path="first-principles.html"><a href="first-principles.html#vectors-indexing"><i class="fa fa-check"></i><b>2.5.2</b> Vectors &amp; Indexing</a>
<ul>
<li class="chapter" data-level="2.5.2.1" data-path="first-principles.html"><a href="first-principles.html#concatenate-c-function"><i class="fa fa-check"></i><b>2.5.2.1</b> Concatenate <code>c()</code> function</a></li>
</ul></li>
<li class="chapter" data-level="2.5.3" data-path="first-principles.html"><a href="first-principles.html#indexing"><i class="fa fa-check"></i><b>2.5.3</b> Indexing</a></li>
<li class="chapter" data-level="2.5.4" data-path="first-principles.html"><a href="first-principles.html#accessing-equality"><i class="fa fa-check"></i><b>2.5.4</b> Accessing equality</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="first-principles.html"><a href="first-principles.html#data-frames"><i class="fa fa-check"></i><b>2.6</b> Data frames</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="first-principles.html"><a href="first-principles.html#creating-a-data-frame"><i class="fa fa-check"></i><b>2.6.1</b> Creating a data frame</a></li>
<li class="chapter" data-level="2.6.2" data-path="first-principles.html"><a href="first-principles.html#sneak-peak-at-data-visualization-with-baseplot."><i class="fa fa-check"></i><b>2.6.2</b> Sneak peak at data visualization with <code>base::plot</code>.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="more-base-ics-in-r.html"><a href="more-base-ics-in-r.html"><i class="fa fa-check"></i><b>3</b> <strong>More <code>base</code>-ics in R</strong></a>
<ul>
<li class="chapter" data-level="3.1" data-path="more-base-ics-in-r.html"><a href="more-base-ics-in-r.html#guinea-pigs-tooth-growth"><i class="fa fa-check"></i><b>3.1</b> Guinea pigs’ tooth growth</a></li>
<li class="chapter" data-level="3.2" data-path="more-base-ics-in-r.html"><a href="more-base-ics-in-r.html#functions"><i class="fa fa-check"></i><b>3.2</b> Functions</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="more-base-ics-in-r.html"><a href="more-base-ics-in-r.html#creating-functions"><i class="fa fa-check"></i><b>3.2.1</b> Creating functions</a>
<ul>
<li class="chapter" data-level="3.2.1.1" data-path="more-base-ics-in-r.html"><a href="more-base-ics-in-r.html#try-it-out"><i class="fa fa-check"></i><b>3.2.1.1</b> Try it out</a></li>
<li class="chapter" data-level="3.2.1.2" data-path="more-base-ics-in-r.html"><a href="more-base-ics-in-r.html#favorite-equation-challenge"><i class="fa fa-check"></i><b>3.2.1.2</b> Favorite Equation Challenge</a></li>
<li class="chapter" data-level="3.2.1.3" data-path="more-base-ics-in-r.html"><a href="more-base-ics-in-r.html#hello-challenge"><i class="fa fa-check"></i><b>3.2.1.3</b> Hello Challenge</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="more-base-ics-in-r.html"><a href="more-base-ics-in-r.html#base-r-functions."><i class="fa fa-check"></i><b>3.3</b> <code>base</code> R functions.</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="more-base-ics-in-r.html"><a href="more-base-ics-in-r.html#freeform-data-challenge"><i class="fa fa-check"></i><b>3.3.1</b> Freeform Data Challenge</a></li>
<li class="chapter" data-level="3.3.2" data-path="more-base-ics-in-r.html"><a href="more-base-ics-in-r.html#loops-if-else"><i class="fa fa-check"></i><b>3.3.2</b> Loops &amp; <code>if else</code></a>
<ul>
<li class="chapter" data-level="3.3.2.1" data-path="more-base-ics-in-r.html"><a href="more-base-ics-in-r.html#for-loops"><i class="fa fa-check"></i><b>3.3.2.1</b> <code>for</code> loops</a></li>
<li class="chapter" data-level="3.3.2.2" data-path="more-base-ics-in-r.html"><a href="more-base-ics-in-r.html#if-...-else"><i class="fa fa-check"></i><b>3.3.2.2</b> <code>if ... else</code></a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4</b> <strong>Tidyverse</strong></a>
<ul>
<li class="chapter" data-level="4.1" data-path="tidyverse.html"><a href="tidyverse.html#tidyverse-specific-resources"><i class="fa fa-check"></i><b>4.1</b> <code>tidyverse</code>-specific resources</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="tidyverse.html"><a href="tidyverse.html#cheat-sheets"><i class="fa fa-check"></i><b>4.1.1</b> Cheat sheets</a>
<ul>
<li class="chapter" data-level="4.1.1.1" data-path="tidyverse.html"><a href="tidyverse.html#core-tidyverse"><i class="fa fa-check"></i><b>4.1.1.1</b> Core tidyverse</a></li>
<li class="chapter" data-level="4.1.1.2" data-path="tidyverse.html"><a href="tidyverse.html#other-useful-tidyverse-packages"><i class="fa fa-check"></i><b>4.1.1.2</b> Other useful tidyverse packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="tidyverse.html"><a href="tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>4.2</b> Tidy data</a></li>
<li class="chapter" data-level="4.3" data-path="tidyverse.html"><a href="tidyverse.html#messy-data"><i class="fa fa-check"></i><b>4.3</b> Messy data</a></li>
<li class="chapter" data-level="4.4" data-path="tidyverse.html"><a href="tidyverse.html#lets-tidy-it"><i class="fa fa-check"></i><b>4.4</b> Let’s tidy it</a></li>
<li class="chapter" data-level="4.5" data-path="tidyverse.html"><a href="tidyverse.html#tidy-iris-challenge"><i class="fa fa-check"></i><b>4.5</b> Tidy <code>iris</code> challenge</a></li>
<li class="chapter" data-level="4.6" data-path="tidyverse.html"><a href="tidyverse.html#dplyr-functions"><i class="fa fa-check"></i><b>4.6</b> <code>dplyr</code> functions</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="tidyverse.html"><a href="tidyverse.html#rows"><i class="fa fa-check"></i><b>4.6.1</b> Rows</a></li>
<li class="chapter" data-level="4.6.2" data-path="tidyverse.html"><a href="tidyverse.html#columns"><i class="fa fa-check"></i><b>4.6.2</b> Columns</a></li>
<li class="chapter" data-level="4.6.3" data-path="tidyverse.html"><a href="tidyverse.html#groups-of-rows"><i class="fa fa-check"></i><b>4.6.3</b> Groups of rows</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="tidyverse.html"><a href="tidyverse.html#pipe-operator"><i class="fa fa-check"></i><b>4.7</b> Pipe <code>%&gt;%</code> operator</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="tidyverse.html"><a href="tidyverse.html#a-fun-example-from-r-for-data-science"><i class="fa fa-check"></i><b>4.7.1</b> A fun example from <span>R for data science</span></a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="tidyverse.html"><a href="tidyverse.html#arrange"><i class="fa fa-check"></i><b>4.8</b> <code>arrange</code></a></li>
<li class="chapter" data-level="4.9" data-path="tidyverse.html"><a href="tidyverse.html#summarise"><i class="fa fa-check"></i><b>4.9</b> <code>summarise</code></a></li>
<li class="chapter" data-level="4.10" data-path="tidyverse.html"><a href="tidyverse.html#group_by"><i class="fa fa-check"></i><b>4.10</b> <code>group_by</code></a></li>
<li class="chapter" data-level="4.11" data-path="tidyverse.html"><a href="tidyverse.html#iris-group-challenge"><i class="fa fa-check"></i><b>4.11</b> <code>iris</code> group challenge</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>5</b> <strong>Data Visualization</strong></a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-visualization.html"><a href="data-visualization.html#fundamentals-of-data-visualization"><i class="fa fa-check"></i><b>5.1</b> Fundamentals of Data Visualization</a></li>
<li class="chapter" data-level="5.2" data-path="data-visualization.html"><a href="data-visualization.html#ggplot2"><i class="fa fa-check"></i><b>5.2</b> <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="data-visualization.html"><a href="data-visualization.html#height"><i class="fa fa-check"></i><b>5.2.1</b> Height</a></li>
<li class="chapter" data-level="5.2.2" data-path="data-visualization.html"><a href="data-visualization.html#distribution-of-birth-year"><i class="fa fa-check"></i><b>5.2.2</b> Distribution of birth year</a></li>
<li class="chapter" data-level="5.2.3" data-path="data-visualization.html"><a href="data-visualization.html#height-mass"><i class="fa fa-check"></i><b>5.2.3</b> Height &amp; Mass</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-visualization.html"><a href="data-visualization.html#plotly"><i class="fa fa-check"></i><b>5.3</b> Plotly</a></li>
<li class="chapter" data-level="5.4" data-path="data-visualization.html"><a href="data-visualization.html#star-wars-challenge"><i class="fa fa-check"></i><b>5.4</b> Star Wars Challenge</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="statistics-experimental-design.html"><a href="statistics-experimental-design.html"><i class="fa fa-check"></i><b>6</b> <strong>Statistics &amp; experimental design</strong></a>
<ul>
<li class="chapter" data-level="6.1" data-path="statistics-experimental-design.html"><a href="statistics-experimental-design.html#resources"><i class="fa fa-check"></i><b>6.1</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="creating-a-script.html"><a href="creating-a-script.html"><i class="fa fa-check"></i><b>7</b> <strong>Creating a script</strong></a>
<ul>
<li class="chapter" data-level="7.1" data-path="creating-a-script.html"><a href="creating-a-script.html#pseudo-script-form"><i class="fa fa-check"></i><b>7.1</b> Pseudo-script form</a></li>
<li class="chapter" data-level="7.2" data-path="creating-a-script.html"><a href="creating-a-script.html#script-for-ctmax-data"><i class="fa fa-check"></i><b>7.2</b> Script for CTmax data</a></li>
</ul></li>
<li class="part"><span><b><strong>Part II – July</strong></b></span></li>
<li class="chapter" data-level="8" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>8</b> <strong>Introduction</strong></a>
<ul>
<li class="chapter" data-level="8.1" data-path="introduction-1.html"><a href="introduction-1.html#agenda-1"><i class="fa fa-check"></i><b>8.1</b> Agenda</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-visualization-1.html"><a href="data-visualization-1.html"><i class="fa fa-check"></i><b>9</b> <strong>Data Visualization</strong></a>
<ul>
<li class="chapter" data-level="9.1" data-path="data-visualization-1.html"><a href="data-visualization-1.html#questions-hypotheses"><i class="fa fa-check"></i><b>9.1</b> Questions &amp; Hypotheses</a></li>
<li class="chapter" data-level="9.2" data-path="data-visualization-1.html"><a href="data-visualization-1.html#literature-review"><i class="fa fa-check"></i><b>9.2</b> Literature Review</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="data-visualization-1.html"><a href="data-visualization-1.html#survival-curves"><i class="fa fa-check"></i><b>9.2.1</b> Survival Curves</a></li>
<li class="chapter" data-level="9.2.2" data-path="data-visualization-1.html"><a href="data-visualization-1.html#differential-expression-data"><i class="fa fa-check"></i><b>9.2.2</b> Differential Expression Data</a></li>
<li class="chapter" data-level="9.2.3" data-path="data-visualization-1.html"><a href="data-visualization-1.html#go-functional-analysis"><i class="fa fa-check"></i><b>9.2.3</b> GO functional analysis</a></li>
<li class="chapter" data-level="9.2.4" data-path="data-visualization-1.html"><a href="data-visualization-1.html#differential-splicing-data"><i class="fa fa-check"></i><b>9.2.4</b> Differential Splicing Data</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="data-visualization-1.html"><a href="data-visualization-1.html#random-stolen-advice"><i class="fa fa-check"></i><b>9.3</b> Random stolen advice </a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>10</b> <strong>R markdown</strong></a>
<ul>
<li class="chapter" data-level="10.1" data-path="r-markdown.html"><a href="r-markdown.html#links"><i class="fa fa-check"></i><b>10.1</b> Links</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="advanced-skills.html"><a href="advanced-skills.html"><i class="fa fa-check"></i><b>11</b> <strong>Advanced skills</strong></a>
<ul>
<li class="chapter" data-level="11.1" data-path="advanced-skills.html"><a href="advanced-skills.html#version-control"><i class="fa fa-check"></i><b>11.1</b> Version control</a></li>
<li class="chapter" data-level="11.2" data-path="advanced-skills.html"><a href="advanced-skills.html#interactive-visualization"><i class="fa fa-check"></i><b>11.2</b> Interactive visualization</a></li>
<li class="chapter" data-level="11.3" data-path="advanced-skills.html"><a href="advanced-skills.html#advanced-tidyverse"><i class="fa fa-check"></i><b>11.3</b> Advanced <code>tidyverse</code></a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="advanced-skills.html"><a href="advanced-skills.html#nest"><i class="fa fa-check"></i><b>11.3.1</b> <code>nest</code></a></li>
<li class="chapter" data-level="11.3.2" data-path="advanced-skills.html"><a href="advanced-skills.html#broom"><i class="fa fa-check"></i><b>11.3.2</b> <code>broom</code></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b><strong>Challenge Solutions</strong></b></span></li>
<li class="chapter" data-level="12" data-path="solutions.html"><a href="solutions.html"><i class="fa fa-check"></i><b>12</b> <strong>Solutions</strong></a>
<ul>
<li class="chapter" data-level="12.1" data-path="solutions.html"><a href="solutions.html#hello"><i class="fa fa-check"></i><b>12.1</b> Hello</a></li>
<li class="chapter" data-level="12.2" data-path="solutions.html"><a href="solutions.html#freeform"><i class="fa fa-check"></i><b>12.2</b> Freeform</a></li>
<li class="chapter" data-level="12.3" data-path="solutions.html"><a href="solutions.html#loop"><i class="fa fa-check"></i><b>12.3</b> Loop</a></li>
<li class="chapter" data-level="12.4" data-path="solutions.html"><a href="solutions.html#tidy-iris"><i class="fa fa-check"></i><b>12.4</b> Tidy <code>iris</code></a></li>
<li class="chapter" data-level="12.5" data-path="solutions.html"><a href="solutions.html#iris-summary-stats"><i class="fa fa-check"></i><b>12.5</b> <code>iris</code> summary stats</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">UVM ThermoFly REU Crew</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tidyverse" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">4</span> <strong>Tidyverse</strong><a href="tidyverse.html#tidyverse" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This first package in R that we will talk about is actually a suite of packages that have a common syntax, called the <code>tidyverse</code>. They actually call it a dialect of the R language, which is kinda fun!</p>
<p>There are eight core packages in the tidyverse.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="tidyverse.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can install individual packages in the tidyverse like this</span></span>
<span id="cb42-2"><a href="tidyverse.html#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="tidyverse.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># But I like to use the tidyverse package that allows you to easily install and </span></span>
<span id="cb43-2"><a href="tidyverse.html#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   load the tidyverse</span></span>
<span id="cb43-3"><a href="tidyverse.html#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="tidyverse.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Then the package must be attached so that we have access to the functions</span></span>
<span id="cb44-2"><a href="tidyverse.html#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># Note that you don&#39;t need the quotation marks here</span></span></code></pre></div>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="tidyverse.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print out the tidyverse packages</span></span>
<span id="cb45-2"><a href="tidyverse.html#cb45-2" aria-hidden="true" tabindex="-1"></a>tidyverse<span class="sc">::</span><span class="fu">tidyverse_packages</span>()</span>
<span id="cb45-3"><a href="tidyverse.html#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co">#  [1] &quot;broom&quot;         &quot;cli&quot;           &quot;crayon&quot;        &quot;dbplyr&quot;       </span></span>
<span id="cb45-4"><a href="tidyverse.html#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="co">#  [5] &quot;dplyr&quot;         &quot;dtplyr&quot;        &quot;forcats&quot;       &quot;googledrive&quot;  </span></span>
<span id="cb45-5"><a href="tidyverse.html#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="co">#  [9] &quot;googlesheets4&quot; &quot;ggplot2&quot;       &quot;haven&quot;         &quot;hms&quot;          </span></span>
<span id="cb45-6"><a href="tidyverse.html#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co"># [13] &quot;httr&quot;          &quot;jsonlite&quot;      &quot;lubridate&quot;     &quot;magrittr&quot;     </span></span>
<span id="cb45-7"><a href="tidyverse.html#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="co"># [17] &quot;modelr&quot;        &quot;pillar&quot;        &quot;purrr&quot;         &quot;readr&quot;        </span></span>
<span id="cb45-8"><a href="tidyverse.html#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="co"># [21] &quot;readxl&quot;        &quot;reprex&quot;        &quot;rlang&quot;         &quot;rstudioapi&quot;   </span></span>
<span id="cb45-9"><a href="tidyverse.html#cb45-9" aria-hidden="true" tabindex="-1"></a><span class="co"># [25] &quot;rvest&quot;         &quot;stringr&quot;       &quot;tibble&quot;        &quot;tidyr&quot;        </span></span>
<span id="cb45-10"><a href="tidyverse.html#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="co"># [29] &quot;xml2&quot;          &quot;tidyverse&quot;</span></span></code></pre></div>
<p>There are a bunch of tidyverse packages, but only the core eight are loaded with the <code>library(tidyverse)</code> function call, each other package must be loaded individually (<em>e.g.</em> <code>library(broom)</code>).</p>
<p>Each of these packages has a set of functions that it comes with.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="tidyverse.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List several random functions from the dplyr package</span></span>
<span id="cb46-2"><a href="tidyverse.html#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>(<span class="st">&quot;package:dplyr&quot;</span>)[<span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">ls</span>(<span class="st">&quot;package:dplyr&quot;</span>)), <span class="at">size =</span> <span class="dv">20</span>)]</span>
<span id="cb46-3"><a href="tidyverse.html#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="co">#  [1] &quot;mutate_each_&quot;          &quot;group_map&quot;             &quot;tbl_nongroup_vars&quot;    </span></span>
<span id="cb46-4"><a href="tidyverse.html#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="co">#  [4] &quot;quo_name&quot;              &quot;distinct_at&quot;           &quot;transmute&quot;            </span></span>
<span id="cb46-5"><a href="tidyverse.html#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="co">#  [7] &quot;summarize_if&quot;          &quot;dense_rank&quot;            &quot;select_&quot;              </span></span>
<span id="cb46-6"><a href="tidyverse.html#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co"># [10] &quot;collapse&quot;              &quot;failwith&quot;              &quot;select_var&quot;           </span></span>
<span id="cb46-7"><a href="tidyverse.html#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="co"># [13] &quot;mutate_at&quot;             &quot;do_&quot;                   &quot;compare_tbls2&quot;        </span></span>
<span id="cb46-8"><a href="tidyverse.html#cb46-8" aria-hidden="true" tabindex="-1"></a><span class="co"># [16] &quot;first&quot;                 &quot;as_data_frame&quot;         &quot;contains&quot;             </span></span>
<span id="cb46-9"><a href="tidyverse.html#cb46-9" aria-hidden="true" tabindex="-1"></a><span class="co"># [19] &quot;db_explain&quot;            &quot;group_by_drop_default&quot;</span></span></code></pre></div>
<blockquote>
<p>For fun, let’s break down how I am getting the random functions from each package. This is a good example of how you can break something down into it’s smallest components to understand what it is doing.</p>
</blockquote>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="tidyverse.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the help page for a specific package</span></span>
<span id="cb47-2"><a href="tidyverse.html#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(<span class="at">package =</span> dplyr)</span></code></pre></div>
<blockquote>
<p>You can also navigate to this page with the Help panel on RStudio.</p>
</blockquote>
<div id="tidyverse-specific-resources" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> <code>tidyverse</code>-specific resources<a href="tidyverse.html#tidyverse-specific-resources" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><a href="https://www.tidyverse.org/" target="_blank">tidyverse website</a> – poke around this website and you can stumble on some good stuff</li>
<li><a href="https://mran.microsoft.com/web/packages/tidyverse/vignettes/manifesto/" target="_blank">The tidy tools manifesto</a> – who doesn’t love a good manifesto? My favorite part of the tidyverse is the final principle, which is: 4. Design for humans. “Programs must be written for people to read, and only incidentally for machines to execute.” — Hal Abelson</li>
<li><a href="https://style.tidyverse.org/index/" target="_blank">The tidyverse style guide</a> – “Good coding style is like correct punctuation: you can manage without it, butitsuremakesthingseasiertoread.” Honestly, I think that joke vastly underestimates how important it is to have good coding style. You can actually read “butitsuremakesthingseasiertoread” pretty easily because you are an <strong>expert</strong> reader – you’ve been at it every day for years, maybe decades – coding, not so much. I don’t think can overstate how important I think it is to write visually pleasing code. It is good practice for your future self as much as it is for your collaborators.</li>
</ul>
<div id="cheat-sheets" class="section level3 hasAnchor" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Cheat sheets<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a><a href="tidyverse.html#cheat-sheets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="core-tidyverse" class="section level4 hasAnchor" number="4.1.1.1">
<h4><span class="header-section-number">4.1.1.1</span> Core tidyverse<a href="tidyverse.html#core-tidyverse" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><a href="https://tsoleary.github.io/comp_bio/CheatSheets/readr.pdf"><code>readr</code></a> – <strong>import your data</strong>. Need to import data? Cool kids = <code>read_csv()</code>.</li>
<li><a href="https://tsoleary.github.io/comp_bio/CheatSheets/tidyr.pdf"><code>tidyr</code></a> – <strong>tidy your data</strong>. Helps you tidy your data quick. What does tidy data mean? Keep reading…</li>
<li><code>tibble</code> – <strong>a new data.frame</strong> – doesn’t have a cheat sheet, just works in the shadows.</li>
<li><a href="https://tsoleary.github.io/comp_bio/CheatSheets/dplyr.pdf"><code>dplyr</code></a> – <strong>wrangle your data</strong>. Need to get a mean? Find a standard deviation? Look no further.</li>
<li><a href="https://tsoleary.github.io/comp_bio/CheatSheets/ggplot2.pdf"><code>ggplot2</code></a> – <strong>plot your data</strong> – you already know ggplot.</li>
<li><a href="https://tsoleary.github.io/comp_bio/CheatSheets/stringr.pdf"><code>stringr</code></a> – <strong>maipulate strings</strong>. Have a bunch of strings for some reason? Use <code>stringr</code>.</li>
<li><a href="https://tsoleary.github.io/comp_bio/CheatSheets/purrr.pdf"><code>purrr</code></a> – <strong>functional programming</strong>. Wanna conserve energy like a cat? Replace <code>for()</code> with <code>map()</code>.</li>
<li><a href="https://tsoleary.github.io/comp_bio/CheatSheets/forcats.pdf"><code>forcats</code></a> – <strong>manipulate factors</strong>– Using a bunch of factors? Reorder them with <code>forcats</code>.</li>
</ul>
</div>
<div id="other-useful-tidyverse-packages" class="section level4 hasAnchor" number="4.1.1.2">
<h4><span class="header-section-number">4.1.1.2</span> Other useful tidyverse packages<a href="tidyverse.html#other-useful-tidyverse-packages" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><code>broom</code> – <strong>clean model output</strong> – technically a subpackage of <code>tidymodels</code> a cousin of the tidyverse</li>
<li><code>rvest</code> – <strong>web scraping</strong> – mining data from a website</li>
<li><code>modelr</code> – <strong>modelling</strong> – support for modelling data in the tidyverse</li>
</ul>
</div>
</div>
</div>
<div id="tidy-data" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Tidy data<a href="tidyverse.html#tidy-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The tidyverse gets its name from the type of data that it is designed to interact with – <strong>tidy data</strong>. So let’s quickly define <a href="https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data/" target="_blank">tidy data</a>.</p>
<ol style="list-style-type: decimal">
<li>Every column is a variable.</li>
<li>Every row is an observation.</li>
<li>Every cell is a single value.</li>
</ol>
<p>Yikes. That’s abstract…</p>
</div>
<div id="messy-data" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Messy data<a href="tidyverse.html#messy-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>An example of some messy data.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="tidyverse.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make up some random data</span></span>
<span id="cb48-2"><a href="tidyverse.html#cb48-2" aria-hidden="true" tabindex="-1"></a>mdh_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">gill =</span> <span class="fu">rnorm</span>(<span class="dv">15</span>, <span class="at">mean =</span> <span class="dv">12</span>, <span class="at">sd =</span> <span class="dv">2</span>),</span>
<span id="cb48-3"><a href="tidyverse.html#cb48-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">adductor =</span> <span class="fu">rnorm</span>(<span class="dv">15</span>, <span class="at">mean =</span> <span class="dv">18</span>, <span class="at">sd =</span> <span class="fl">2.5</span>),</span>
<span id="cb48-4"><a href="tidyverse.html#cb48-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">mantle =</span> <span class="fu">rnorm</span>(<span class="dv">15</span>, <span class="at">mean =</span> <span class="dv">6</span>, <span class="at">sd =</span> <span class="dv">3</span>))</span>
<span id="cb48-5"><a href="tidyverse.html#cb48-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-6"><a href="tidyverse.html#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the data</span></span>
<span id="cb48-7"><a href="tidyverse.html#cb48-7" aria-hidden="true" tabindex="-1"></a>mdh_df</span>
<span id="cb48-8"><a href="tidyverse.html#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="co"># # A tibble: 15 × 3</span></span>
<span id="cb48-9"><a href="tidyverse.html#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="co">#     gill adductor mantle</span></span>
<span id="cb48-10"><a href="tidyverse.html#cb48-10" aria-hidden="true" tabindex="-1"></a><span class="co">#    &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;</span></span>
<span id="cb48-11"><a href="tidyverse.html#cb48-11" aria-hidden="true" tabindex="-1"></a><span class="co">#  1 11.7      17.4  4.90 </span></span>
<span id="cb48-12"><a href="tidyverse.html#cb48-12" aria-hidden="true" tabindex="-1"></a><span class="co">#  2  9.06     19.7  2.87 </span></span>
<span id="cb48-13"><a href="tidyverse.html#cb48-13" aria-hidden="true" tabindex="-1"></a><span class="co">#  3 11.0      19.4  7.71 </span></span>
<span id="cb48-14"><a href="tidyverse.html#cb48-14" aria-hidden="true" tabindex="-1"></a><span class="co">#  4 12.8      16.3  5.59 </span></span>
<span id="cb48-15"><a href="tidyverse.html#cb48-15" aria-hidden="true" tabindex="-1"></a><span class="co">#  5 14.7      16.2 13.2  </span></span>
<span id="cb48-16"><a href="tidyverse.html#cb48-16" aria-hidden="true" tabindex="-1"></a><span class="co">#  6 11.8      18.9  5.88 </span></span>
<span id="cb48-17"><a href="tidyverse.html#cb48-17" aria-hidden="true" tabindex="-1"></a><span class="co">#  7 12.8      19.9  8.07 </span></span>
<span id="cb48-18"><a href="tidyverse.html#cb48-18" aria-hidden="true" tabindex="-1"></a><span class="co">#  8 11.9      17.7  6.08 </span></span>
<span id="cb48-19"><a href="tidyverse.html#cb48-19" aria-hidden="true" tabindex="-1"></a><span class="co">#  9  9.25     20.2  3.77 </span></span>
<span id="cb48-20"><a href="tidyverse.html#cb48-20" aria-hidden="true" tabindex="-1"></a><span class="co"># 10 11.2      19.0  6.57 </span></span>
<span id="cb48-21"><a href="tidyverse.html#cb48-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 11 11.2      16.5  0.585</span></span>
<span id="cb48-22"><a href="tidyverse.html#cb48-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 12 11.9      18.9 10.4  </span></span>
<span id="cb48-23"><a href="tidyverse.html#cb48-23" aria-hidden="true" tabindex="-1"></a><span class="co"># 13 14.2      15.2  6.46 </span></span>
<span id="cb48-24"><a href="tidyverse.html#cb48-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 14 13.5      21.6 12.5  </span></span>
<span id="cb48-25"><a href="tidyverse.html#cb48-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 15 11.7      23.0  7.43</span></span></code></pre></div>
</div>
<div id="lets-tidy-it" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Let’s tidy it<a href="tidyverse.html#lets-tidy-it" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="tidyverse.html#cb49-1" aria-hidden="true" tabindex="-1"></a>mdh_df <span class="ot">&lt;-</span> mdh_df <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="tidyverse.html#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(),</span>
<span id="cb49-3"><a href="tidyverse.html#cb49-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;tissue&quot;</span>,</span>
<span id="cb49-4"><a href="tidyverse.html#cb49-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;iu_gfw&quot;</span>)</span>
<span id="cb49-5"><a href="tidyverse.html#cb49-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-6"><a href="tidyverse.html#cb49-6" aria-hidden="true" tabindex="-1"></a>mdh_df</span>
<span id="cb49-7"><a href="tidyverse.html#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="co"># # A tibble: 45 × 2</span></span>
<span id="cb49-8"><a href="tidyverse.html#cb49-8" aria-hidden="true" tabindex="-1"></a><span class="co">#    tissue   iu_gfw</span></span>
<span id="cb49-9"><a href="tidyverse.html#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="co">#    &lt;chr&gt;     &lt;dbl&gt;</span></span>
<span id="cb49-10"><a href="tidyverse.html#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="co">#  1 gill      11.7 </span></span>
<span id="cb49-11"><a href="tidyverse.html#cb49-11" aria-hidden="true" tabindex="-1"></a><span class="co">#  2 adductor  17.4 </span></span>
<span id="cb49-12"><a href="tidyverse.html#cb49-12" aria-hidden="true" tabindex="-1"></a><span class="co">#  3 mantle     4.90</span></span>
<span id="cb49-13"><a href="tidyverse.html#cb49-13" aria-hidden="true" tabindex="-1"></a><span class="co">#  4 gill       9.06</span></span>
<span id="cb49-14"><a href="tidyverse.html#cb49-14" aria-hidden="true" tabindex="-1"></a><span class="co">#  5 adductor  19.7 </span></span>
<span id="cb49-15"><a href="tidyverse.html#cb49-15" aria-hidden="true" tabindex="-1"></a><span class="co">#  6 mantle     2.87</span></span>
<span id="cb49-16"><a href="tidyverse.html#cb49-16" aria-hidden="true" tabindex="-1"></a><span class="co">#  7 gill      11.0 </span></span>
<span id="cb49-17"><a href="tidyverse.html#cb49-17" aria-hidden="true" tabindex="-1"></a><span class="co">#  8 adductor  19.4 </span></span>
<span id="cb49-18"><a href="tidyverse.html#cb49-18" aria-hidden="true" tabindex="-1"></a><span class="co">#  9 mantle     7.71</span></span>
<span id="cb49-19"><a href="tidyverse.html#cb49-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 10 gill      12.8 </span></span>
<span id="cb49-20"><a href="tidyverse.html#cb49-20" aria-hidden="true" tabindex="-1"></a><span class="co"># # … with 35 more rows</span></span></code></pre></div>
<blockquote>
<p><strong>BAM</strong>! That is tidy data. 1. Every column is a variable – tissue and enzyme activity. 2. Every row is an observation – enzyme activity in I.U./g f.w.. 3. Every cell is a single value.</p>
</blockquote>
<p>We will talk about tidy data more when we get to our own data sets later in the workshop, but for now, let’s continue to talk about the functions from the core tidyverse</p>
</div>
<div id="tidy-iris-challenge" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> Tidy <code>iris</code> challenge<a href="tidyverse.html#tidy-iris-challenge" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Take the built in <code>iris</code> data set and convert it to tidy data format.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="tidyverse.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First 6 rows of the iris data set</span></span>
<span id="cb50-2"><a href="tidyverse.html#cb50-2" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span></span>
<span id="cb50-3"><a href="tidyverse.html#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span>
<span id="cb50-4"><a href="tidyverse.html#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span></span>
<span id="cb50-5"><a href="tidyverse.html#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 1          5.1         3.5          1.4         0.2  setosa</span></span>
<span id="cb50-6"><a href="tidyverse.html#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 2          4.9         3.0          1.4         0.2  setosa</span></span>
<span id="cb50-7"><a href="tidyverse.html#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 3          4.7         3.2          1.3         0.2  setosa</span></span>
<span id="cb50-8"><a href="tidyverse.html#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 4          4.6         3.1          1.5         0.2  setosa</span></span>
<span id="cb50-9"><a href="tidyverse.html#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 5          5.0         3.6          1.4         0.2  setosa</span></span>
<span id="cb50-10"><a href="tidyverse.html#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 6          5.4         3.9          1.7         0.4  setosa</span></span>
<span id="cb50-11"><a href="tidyverse.html#cb50-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-12"><a href="tidyverse.html#cb50-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Functionally equivalent to this</span></span>
<span id="cb50-13"><a href="tidyverse.html#cb50-13" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris)</span>
<span id="cb50-14"><a href="tidyverse.html#cb50-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span></span>
<span id="cb50-15"><a href="tidyverse.html#cb50-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 1          5.1         3.5          1.4         0.2  setosa</span></span>
<span id="cb50-16"><a href="tidyverse.html#cb50-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 2          4.9         3.0          1.4         0.2  setosa</span></span>
<span id="cb50-17"><a href="tidyverse.html#cb50-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 3          4.7         3.2          1.3         0.2  setosa</span></span>
<span id="cb50-18"><a href="tidyverse.html#cb50-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 4          4.6         3.1          1.5         0.2  setosa</span></span>
<span id="cb50-19"><a href="tidyverse.html#cb50-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 5          5.0         3.6          1.4         0.2  setosa</span></span>
<span id="cb50-20"><a href="tidyverse.html#cb50-20" aria-hidden="true" tabindex="-1"></a><span class="co"># 6          5.4         3.9          1.7         0.4  setosa</span></span></code></pre></div>
<p>Click for <a href="solutions.html#tidy-iris">Tidy <code>iris</code></a> solultion.</p>
</div>
<div id="dplyr-functions" class="section level2 hasAnchor" number="4.6">
<h2><span class="header-section-number">4.6</span> <code>dplyr</code> functions<a href="tidyverse.html#dplyr-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>dplyr</code> has a few core functions that help organize, and analyse</p>
<p>Taken from the <a href="https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr/" target="_blank"><code>dplyr</code> vignette</a>.</p>
<div id="rows" class="section level3 hasAnchor" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> Rows<a href="tidyverse.html#rows" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>filter()</code> chooses rows based on column values.</li>
<li><code>slice()</code> chooses rows based on location.</li>
<li><code>arrange()</code> changes the order of the rows.</li>
</ul>
</div>
<div id="columns" class="section level3 hasAnchor" number="4.6.2">
<h3><span class="header-section-number">4.6.2</span> Columns<a href="tidyverse.html#columns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>select()</code> changes whether or not a column is included.</li>
<li><code>rename()</code> changes the name of columns.</li>
<li><code>mutate()</code> changes the values of columns and creates new columns.</li>
<li><code>relocate()</code> changes the order of the columns.</li>
</ul>
</div>
<div id="groups-of-rows" class="section level3 hasAnchor" number="4.6.3">
<h3><span class="header-section-number">4.6.3</span> Groups of rows<a href="tidyverse.html#groups-of-rows" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>summarise()</code> collapses a group into a single row.</li>
</ul>
</div>
</div>
<div id="pipe-operator" class="section level2 hasAnchor" number="4.7">
<h2><span class="header-section-number">4.7</span> Pipe <code>%&gt;%</code> operator<a href="tidyverse.html#pipe-operator" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>%&gt;%</code> operator is called a pipe and it basically works by taking what is on the left of the pipe and inserting it as the first argument on the function on the right.</p>
<p>For example, from the <a href="https://magrittr.tidyverse.org/index/" target="_blank"><code>magrittr</code></a> page:</p>
<ul>
<li><code>x %&gt;% f</code> is equivalent to <code>f(x)</code></li>
<li><code>x %&gt;% f(y)</code> is equivalent to <code>f(x, y)</code></li>
<li><code>x %&gt;% f %&gt;% g %&gt;% h</code> is equivalent to <code>h(g(f(x)))</code></li>
</ul>
<p>Sometimes for functions with multiple arguments it is necessary to pipe the left-hand-side into other arguments of the function beyond the first argument. In that case you can use the argument placeholder <code>.</code>, as follows:</p>
<ul>
<li><code>x %&gt;% f(y, .)</code> is equivalent to <code>f(y, x)</code></li>
<li><code>x %&gt;% f(y, z = .)</code> is equivalent to <code>f(y, z = x)</code></li>
</ul>
<div id="a-fun-example-from-r-for-data-science" class="section level3 hasAnchor" number="4.7.1">
<h3><span class="header-section-number">4.7.1</span> A fun example from <a href="https://r4ds.had.co.nz/pipes/" target="_blank">R for data science</a><a href="tidyverse.html#a-fun-example-from-r-for-data-science" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are a few ways to run multi-line code</p>
<p>Nested it would look like this:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="tidyverse.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This is almost unreadable</span></span>
<span id="cb51-2"><a href="tidyverse.html#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bop</span>(<span class="fu">scoop</span>(<span class="fu">hop</span>(<span class="fu">little_bunny</span>(), <span class="at">through =</span> forest), <span class="at">up =</span> field_mice), <span class="at">on =</span> head)</span></code></pre></div>
<p>With saving intermediate variables it would look like this:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="tidyverse.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This is slightly more readable, but has a bunch of meaningless intermediates</span></span>
<span id="cb52-2"><a href="tidyverse.html#cb52-2" aria-hidden="true" tabindex="-1"></a>foo_foo <span class="ot">&lt;-</span> <span class="fu">little_bunny</span>()</span>
<span id="cb52-3"><a href="tidyverse.html#cb52-3" aria-hidden="true" tabindex="-1"></a>foo_foo_1 <span class="ot">&lt;-</span> <span class="fu">hop</span>(foo_foo, <span class="at">through =</span> forest)</span>
<span id="cb52-4"><a href="tidyverse.html#cb52-4" aria-hidden="true" tabindex="-1"></a>foo_foo_2 <span class="ot">&lt;-</span> <span class="fu">scoop</span>(foo_foo_1, <span class="at">up =</span> field_mice)</span>
<span id="cb52-5"><a href="tidyverse.html#cb52-5" aria-hidden="true" tabindex="-1"></a>foo_foo_3 <span class="ot">&lt;-</span> <span class="fu">bop</span>(foo_foo_2, <span class="at">on =</span> head)</span></code></pre></div>
<p>And finally, with the <code>%&gt;%</code> operator it would look like this:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="tidyverse.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This is more readable and avoids needless intermediates</span></span>
<span id="cb53-2"><a href="tidyverse.html#cb53-2" aria-hidden="true" tabindex="-1"></a>foo_foo <span class="sc">%&gt;%</span></span>
<span id="cb53-3"><a href="tidyverse.html#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hop</span>(<span class="at">through =</span> forest) <span class="sc">%&gt;%</span></span>
<span id="cb53-4"><a href="tidyverse.html#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scoop</span>(<span class="at">up =</span> field_mice) <span class="sc">%&gt;%</span></span>
<span id="cb53-5"><a href="tidyverse.html#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bop</span>(<span class="at">on =</span> head)</span></code></pre></div>
<blockquote>
<p>We will practice piping together in a moment.</p>
</blockquote>
<p>starwars data set.</p>
</div>
</div>
<div id="arrange" class="section level2 hasAnchor" number="4.8">
<h2><span class="header-section-number">4.8</span> <code>arrange</code><a href="tidyverse.html#arrange" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="tidyverse.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Arrange the tibble by height</span></span>
<span id="cb54-2"><a href="tidyverse.html#cb54-2" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span></span>
<span id="cb54-3"><a href="tidyverse.html#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(height)</span>
<span id="cb54-4"><a href="tidyverse.html#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="co"># # A tibble: 87 × 14</span></span>
<span id="cb54-5"><a href="tidyverse.html#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="co">#    name     height  mass hair_color skin_color eye_color birth_year sex   gender</span></span>
<span id="cb54-6"><a href="tidyverse.html#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="co">#    &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; </span></span>
<span id="cb54-7"><a href="tidyverse.html#cb54-7" aria-hidden="true" tabindex="-1"></a><span class="co">#  1 Yoda         66    17 white      green      brown            896 male  mascu…</span></span>
<span id="cb54-8"><a href="tidyverse.html#cb54-8" aria-hidden="true" tabindex="-1"></a><span class="co">#  2 Ratts T…     79    15 none       grey, blue unknown           NA male  mascu…</span></span>
<span id="cb54-9"><a href="tidyverse.html#cb54-9" aria-hidden="true" tabindex="-1"></a><span class="co">#  3 Wicket …     88    20 brown      brown      brown              8 male  mascu…</span></span>
<span id="cb54-10"><a href="tidyverse.html#cb54-10" aria-hidden="true" tabindex="-1"></a><span class="co">#  4 Dud Bolt     94    45 none       blue, grey yellow            NA male  mascu…</span></span>
<span id="cb54-11"><a href="tidyverse.html#cb54-11" aria-hidden="true" tabindex="-1"></a><span class="co">#  5 R2-D2        96    32 &lt;NA&gt;       white, bl… red               33 none  mascu…</span></span>
<span id="cb54-12"><a href="tidyverse.html#cb54-12" aria-hidden="true" tabindex="-1"></a><span class="co">#  6 R4-P17       96    NA none       silver, r… red, blue         NA none  femin…</span></span>
<span id="cb54-13"><a href="tidyverse.html#cb54-13" aria-hidden="true" tabindex="-1"></a><span class="co">#  7 R5-D4        97    32 &lt;NA&gt;       white, red red               NA none  mascu…</span></span>
<span id="cb54-14"><a href="tidyverse.html#cb54-14" aria-hidden="true" tabindex="-1"></a><span class="co">#  8 Sebulba     112    40 none       grey, red  orange            NA male  mascu…</span></span>
<span id="cb54-15"><a href="tidyverse.html#cb54-15" aria-hidden="true" tabindex="-1"></a><span class="co">#  9 Gasgano     122    NA none       white, bl… black             NA male  mascu…</span></span>
<span id="cb54-16"><a href="tidyverse.html#cb54-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 10 Watto       137    NA black      blue, grey yellow            NA male  mascu…</span></span>
<span id="cb54-17"><a href="tidyverse.html#cb54-17" aria-hidden="true" tabindex="-1"></a><span class="co"># # … with 77 more rows, and 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;,</span></span>
<span id="cb54-18"><a href="tidyverse.html#cb54-18" aria-hidden="true" tabindex="-1"></a><span class="co"># #   films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</span></span></code></pre></div>
<p>By default it arranges height ascending from low to high. You can change that behavoir by wrapping the variable you want to arrange by in the <code>desc()</code> function like below:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="tidyverse.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Arrange the tibble by height descending</span></span>
<span id="cb55-2"><a href="tidyverse.html#cb55-2" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span></span>
<span id="cb55-3"><a href="tidyverse.html#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(height))</span>
<span id="cb55-4"><a href="tidyverse.html#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="co"># # A tibble: 87 × 14</span></span>
<span id="cb55-5"><a href="tidyverse.html#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="co">#    name     height  mass hair_color skin_color eye_color birth_year sex   gender</span></span>
<span id="cb55-6"><a href="tidyverse.html#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="co">#    &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; </span></span>
<span id="cb55-7"><a href="tidyverse.html#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="co">#  1 Yarael …    264    NA none       white      yellow          NA   male  mascu…</span></span>
<span id="cb55-8"><a href="tidyverse.html#cb55-8" aria-hidden="true" tabindex="-1"></a><span class="co">#  2 Tarfful     234   136 brown      brown      blue            NA   male  mascu…</span></span>
<span id="cb55-9"><a href="tidyverse.html#cb55-9" aria-hidden="true" tabindex="-1"></a><span class="co">#  3 Lama Su     229    88 none       grey       black           NA   male  mascu…</span></span>
<span id="cb55-10"><a href="tidyverse.html#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="co">#  4 Chewbac…    228   112 brown      unknown    blue           200   male  mascu…</span></span>
<span id="cb55-11"><a href="tidyverse.html#cb55-11" aria-hidden="true" tabindex="-1"></a><span class="co">#  5 Roos Ta…    224    82 none       grey       orange          NA   male  mascu…</span></span>
<span id="cb55-12"><a href="tidyverse.html#cb55-12" aria-hidden="true" tabindex="-1"></a><span class="co">#  6 Grievous    216   159 none       brown, wh… green, y…       NA   male  mascu…</span></span>
<span id="cb55-13"><a href="tidyverse.html#cb55-13" aria-hidden="true" tabindex="-1"></a><span class="co">#  7 Taun We     213    NA none       grey       black           NA   fema… femin…</span></span>
<span id="cb55-14"><a href="tidyverse.html#cb55-14" aria-hidden="true" tabindex="-1"></a><span class="co">#  8 Rugor N…    206    NA none       green      orange          NA   male  mascu…</span></span>
<span id="cb55-15"><a href="tidyverse.html#cb55-15" aria-hidden="true" tabindex="-1"></a><span class="co">#  9 Tion Me…    206    80 none       grey       black           NA   male  mascu…</span></span>
<span id="cb55-16"><a href="tidyverse.html#cb55-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 10 Darth V…    202   136 none       white      yellow          41.9 male  mascu…</span></span>
<span id="cb55-17"><a href="tidyverse.html#cb55-17" aria-hidden="true" tabindex="-1"></a><span class="co"># # … with 77 more rows, and 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;,</span></span>
<span id="cb55-18"><a href="tidyverse.html#cb55-18" aria-hidden="true" tabindex="-1"></a><span class="co"># #   films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</span></span></code></pre></div>
<p>You can combine <code>tidyverse</code> functions with <code>base</code> R functions like below</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="tidyverse.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The head function will print out the top n number of individuals</span></span>
<span id="cb56-2"><a href="tidyverse.html#cb56-2" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span></span>
<span id="cb56-3"><a href="tidyverse.html#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(height)) <span class="sc">%&gt;%</span></span>
<span id="cb56-4"><a href="tidyverse.html#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">20</span>)</span>
<span id="cb56-5"><a href="tidyverse.html#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="co"># # A tibble: 20 × 14</span></span>
<span id="cb56-6"><a href="tidyverse.html#cb56-6" aria-hidden="true" tabindex="-1"></a><span class="co">#    name     height  mass hair_color skin_color eye_color birth_year sex   gender</span></span>
<span id="cb56-7"><a href="tidyverse.html#cb56-7" aria-hidden="true" tabindex="-1"></a><span class="co">#    &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; </span></span>
<span id="cb56-8"><a href="tidyverse.html#cb56-8" aria-hidden="true" tabindex="-1"></a><span class="co">#  1 Yarael …    264    NA none       white      yellow          NA   male  mascu…</span></span>
<span id="cb56-9"><a href="tidyverse.html#cb56-9" aria-hidden="true" tabindex="-1"></a><span class="co">#  2 Tarfful     234   136 brown      brown      blue            NA   male  mascu…</span></span>
<span id="cb56-10"><a href="tidyverse.html#cb56-10" aria-hidden="true" tabindex="-1"></a><span class="co">#  3 Lama Su     229    88 none       grey       black           NA   male  mascu…</span></span>
<span id="cb56-11"><a href="tidyverse.html#cb56-11" aria-hidden="true" tabindex="-1"></a><span class="co">#  4 Chewbac…    228   112 brown      unknown    blue           200   male  mascu…</span></span>
<span id="cb56-12"><a href="tidyverse.html#cb56-12" aria-hidden="true" tabindex="-1"></a><span class="co">#  5 Roos Ta…    224    82 none       grey       orange          NA   male  mascu…</span></span>
<span id="cb56-13"><a href="tidyverse.html#cb56-13" aria-hidden="true" tabindex="-1"></a><span class="co">#  6 Grievous    216   159 none       brown, wh… green, y…       NA   male  mascu…</span></span>
<span id="cb56-14"><a href="tidyverse.html#cb56-14" aria-hidden="true" tabindex="-1"></a><span class="co">#  7 Taun We     213    NA none       grey       black           NA   fema… femin…</span></span>
<span id="cb56-15"><a href="tidyverse.html#cb56-15" aria-hidden="true" tabindex="-1"></a><span class="co">#  8 Rugor N…    206    NA none       green      orange          NA   male  mascu…</span></span>
<span id="cb56-16"><a href="tidyverse.html#cb56-16" aria-hidden="true" tabindex="-1"></a><span class="co">#  9 Tion Me…    206    80 none       grey       black           NA   male  mascu…</span></span>
<span id="cb56-17"><a href="tidyverse.html#cb56-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 10 Darth V…    202   136 none       white      yellow          41.9 male  mascu…</span></span>
<span id="cb56-18"><a href="tidyverse.html#cb56-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 11 IG-88       200   140 none       metal      red             15   none  mascu…</span></span>
<span id="cb56-19"><a href="tidyverse.html#cb56-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 12 Ki-Adi-…    198    82 white      pale       yellow          92   male  mascu…</span></span>
<span id="cb56-20"><a href="tidyverse.html#cb56-20" aria-hidden="true" tabindex="-1"></a><span class="co"># 13 Dexter …    198   102 none       brown      yellow          NA   male  mascu…</span></span>
<span id="cb56-21"><a href="tidyverse.html#cb56-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 14 Jar Jar…    196    66 none       orange     orange          52   male  mascu…</span></span>
<span id="cb56-22"><a href="tidyverse.html#cb56-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 15 Kit Fis…    196    87 none       green      black           NA   male  mascu…</span></span>
<span id="cb56-23"><a href="tidyverse.html#cb56-23" aria-hidden="true" tabindex="-1"></a><span class="co"># 16 Mas Ame…    196    NA none       blue       blue            NA   male  mascu…</span></span>
<span id="cb56-24"><a href="tidyverse.html#cb56-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 17 Qui-Gon…    193    89 brown      fair       blue            92   male  mascu…</span></span>
<span id="cb56-25"><a href="tidyverse.html#cb56-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 18 Dooku       193    80 white      fair       brown          102   male  mascu…</span></span>
<span id="cb56-26"><a href="tidyverse.html#cb56-26" aria-hidden="true" tabindex="-1"></a><span class="co"># 19 Wat Tam…    193    48 none       green, gr… unknown         NA   male  mascu…</span></span>
<span id="cb56-27"><a href="tidyverse.html#cb56-27" aria-hidden="true" tabindex="-1"></a><span class="co"># 20 Nute Gu…    191    90 none       mottled g… red             NA   male  mascu…</span></span>
<span id="cb56-28"><a href="tidyverse.html#cb56-28" aria-hidden="true" tabindex="-1"></a><span class="co"># # … with 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,</span></span>
<span id="cb56-29"><a href="tidyverse.html#cb56-29" aria-hidden="true" tabindex="-1"></a><span class="co"># #   vehicles &lt;list&gt;, starships &lt;list&gt;</span></span></code></pre></div>
<p>There is also a tidyverse way to do that which is a bit shorter</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="tidyverse.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># slice_max will order by a variable and take the top n</span></span>
<span id="cb57-2"><a href="tidyverse.html#cb57-2" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span></span>
<span id="cb57-3"><a href="tidyverse.html#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> height, <span class="at">n =</span> <span class="dv">20</span>)</span>
<span id="cb57-4"><a href="tidyverse.html#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="co"># # A tibble: 22 × 14</span></span>
<span id="cb57-5"><a href="tidyverse.html#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="co">#    name     height  mass hair_color skin_color eye_color birth_year sex   gender</span></span>
<span id="cb57-6"><a href="tidyverse.html#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="co">#    &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; </span></span>
<span id="cb57-7"><a href="tidyverse.html#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="co">#  1 Yarael …    264    NA none       white      yellow          NA   male  mascu…</span></span>
<span id="cb57-8"><a href="tidyverse.html#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="co">#  2 Tarfful     234   136 brown      brown      blue            NA   male  mascu…</span></span>
<span id="cb57-9"><a href="tidyverse.html#cb57-9" aria-hidden="true" tabindex="-1"></a><span class="co">#  3 Lama Su     229    88 none       grey       black           NA   male  mascu…</span></span>
<span id="cb57-10"><a href="tidyverse.html#cb57-10" aria-hidden="true" tabindex="-1"></a><span class="co">#  4 Chewbac…    228   112 brown      unknown    blue           200   male  mascu…</span></span>
<span id="cb57-11"><a href="tidyverse.html#cb57-11" aria-hidden="true" tabindex="-1"></a><span class="co">#  5 Roos Ta…    224    82 none       grey       orange          NA   male  mascu…</span></span>
<span id="cb57-12"><a href="tidyverse.html#cb57-12" aria-hidden="true" tabindex="-1"></a><span class="co">#  6 Grievous    216   159 none       brown, wh… green, y…       NA   male  mascu…</span></span>
<span id="cb57-13"><a href="tidyverse.html#cb57-13" aria-hidden="true" tabindex="-1"></a><span class="co">#  7 Taun We     213    NA none       grey       black           NA   fema… femin…</span></span>
<span id="cb57-14"><a href="tidyverse.html#cb57-14" aria-hidden="true" tabindex="-1"></a><span class="co">#  8 Rugor N…    206    NA none       green      orange          NA   male  mascu…</span></span>
<span id="cb57-15"><a href="tidyverse.html#cb57-15" aria-hidden="true" tabindex="-1"></a><span class="co">#  9 Tion Me…    206    80 none       grey       black           NA   male  mascu…</span></span>
<span id="cb57-16"><a href="tidyverse.html#cb57-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 10 Darth V…    202   136 none       white      yellow          41.9 male  mascu…</span></span>
<span id="cb57-17"><a href="tidyverse.html#cb57-17" aria-hidden="true" tabindex="-1"></a><span class="co"># # … with 12 more rows, and 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;,</span></span>
<span id="cb57-18"><a href="tidyverse.html#cb57-18" aria-hidden="true" tabindex="-1"></a><span class="co"># #   films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</span></span></code></pre></div>
</div>
<div id="summarise" class="section level2 hasAnchor" number="4.9">
<h2><span class="header-section-number">4.9</span> <code>summarise</code><a href="tidyverse.html#summarise" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are a few ways to get the average height of the Star Wars characters</p>
<p>In <code>base</code> R:</p>
<pre><code>#  [1] 172 167  96 202 150 178 165  97 183 182 188 180 228 180 173 175 170 180  66
# [20] 170 183 200 190 177 175 180 150  NA  88 160 193 191 170 196 224 206 183 137
# [39] 112 183 163 175 180 178  94 122 163 188 198 196 171 184 188 264 188 196 185
# [58] 157 183 183 170 166 165 193 191 183 168 198 229 213 167  79  96 193 191 178
# [77] 216 234 188 178 206  NA  NA  NA  NA  NA 165
# [1] NA
# [1] 174.358</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="tidyverse.html#cb59-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span></span>
<span id="cb59-2"><a href="tidyverse.html#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">height_avg =</span> <span class="fu">mean</span>(height, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb59-3"><a href="tidyverse.html#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="co"># # A tibble: 1 × 1</span></span>
<span id="cb59-4"><a href="tidyverse.html#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   height_avg</span></span>
<span id="cb59-5"><a href="tidyverse.html#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="co">#        &lt;dbl&gt;</span></span>
<span id="cb59-6"><a href="tidyverse.html#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 1       174.</span></span></code></pre></div>
</div>
<div id="group_by" class="section level2 hasAnchor" number="4.10">
<h2><span class="header-section-number">4.10</span> <code>group_by</code><a href="tidyverse.html#group_by" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s say you wanted to know what the average height of each sex was</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="tidyverse.html#cb60-1" aria-hidden="true" tabindex="-1"></a>mdh_df <span class="sc">%&gt;%</span></span>
<span id="cb60-2"><a href="tidyverse.html#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(tissue) <span class="sc">%&gt;%</span></span>
<span id="cb60-3"><a href="tidyverse.html#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">iu_gfw_avg =</span> <span class="fu">mean</span>(iu_gfw),</span>
<span id="cb60-4"><a href="tidyverse.html#cb60-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">iu_gfw_sd =</span> <span class="fu">sd</span>(iu_gfw))</span>
<span id="cb60-5"><a href="tidyverse.html#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="co"># # A tibble: 3 × 3</span></span>
<span id="cb60-6"><a href="tidyverse.html#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   tissue   iu_gfw_avg iu_gfw_sd</span></span>
<span id="cb60-7"><a href="tidyverse.html#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb60-8"><a href="tidyverse.html#cb60-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 adductor      18.7       2.14</span></span>
<span id="cb60-9"><a href="tidyverse.html#cb60-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 2 gill          11.9       1.57</span></span>
<span id="cb60-10"><a href="tidyverse.html#cb60-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 3 mantle         6.80      3.37</span></span></code></pre></div>
<p><strong>Warning</strong>: you must be careful about the order when reusing variable names.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="tidyverse.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad order</span></span>
<span id="cb61-2"><a href="tidyverse.html#cb61-2" aria-hidden="true" tabindex="-1"></a>mdh_df <span class="sc">%&gt;%</span></span>
<span id="cb61-3"><a href="tidyverse.html#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(tissue) <span class="sc">%&gt;%</span></span>
<span id="cb61-4"><a href="tidyverse.html#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">iu_gfw =</span> <span class="fu">mean</span>(iu_gfw),</span>
<span id="cb61-5"><a href="tidyverse.html#cb61-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd =</span> <span class="fu">sd</span>(iu_gfw))</span>
<span id="cb61-6"><a href="tidyverse.html#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="co"># # A tibble: 3 × 3</span></span>
<span id="cb61-7"><a href="tidyverse.html#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   tissue   iu_gfw    sd</span></span>
<span id="cb61-8"><a href="tidyverse.html#cb61-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb61-9"><a href="tidyverse.html#cb61-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 adductor  18.7     NA</span></span>
<span id="cb61-10"><a href="tidyverse.html#cb61-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 2 gill      11.9     NA</span></span>
<span id="cb61-11"><a href="tidyverse.html#cb61-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 3 mantle     6.80    NA</span></span></code></pre></div>
</div>
<div id="iris-group-challenge" class="section level2 hasAnchor" number="4.11">
<h2><span class="header-section-number">4.11</span> <code>iris</code> group challenge<a href="tidyverse.html#iris-group-challenge" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Use what you have just learned of the <code>tidyverse</code> package to calculate the group averages for the <code>iris</code> data.</p>
<p>Click for <a href="solutions.html#iris-summary-stats"><code>iris</code> summary stats</a> solution.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="6">
<li id="fn6"><p>Warning: I have downloaded these cheat sheets and saved them for my quick access, but they may not be the most current version of the cheat sheet.<a href="tidyverse.html#fnref6" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="more-base-ics-in-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-visualization.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
